<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<script src="js/jquery.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.js"></script>
	<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
		<!-- Optional theme -->
	<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap-theme.min.css">
	
	<script src="js/underscore.js"></script>
	<script src="js/gonrin.core.js"></script>
	<script src="js/gonrin.combobox.js"></script>

	<script type="text/javascript">
            $(function () {
                $('#combobox').combobox({
                	textField: "name",
                    valueField: "id",
                    dataSource: [
                        { name: "Parent1", id: 1 },
                        { name: "Parent2", id: 2 },
                        { name: "Parent3", id: 3 },
                        { name: "Parent4", id: 4 },
                    ],
                    /*data_source: {
                    	type:"",
                    },*/
                    index: -1,
                    headerTemplate: "<span>ABC CDE</span",
                    template: '<span class="k-state-default" style="background-color: \'#666\'"></span>' +
                    '<span class="k-state-default"><h3>{{ name }}</h3><p>{{ id }}</p></span>',
                    
                    validators:[
                        {
                        	func: function(value){
                        		if (value == null){
                        			return false;
                        		}
                        		return true;
                        	},
                        	message:"Not null"
                        }
                    ],
                    showStateOnValidateSuccess : true
                });
                $('#combobox').on('change.gonrin', function(e){
                	console.log($('#combobox').getValue());
                });
                
                $("button#validate").bind("click", function(){
                	var ret = $('#combobox').validate();
                	console.log(ret);
            	});
                
                
                $('#combobox2').combobox({
                	textField: "name1",
                    valueField: "id",
                    dataSource: [
                        "Child 1","Child 2","Child 3","Child 4"
                    ],
                    /*data_source: {
                    	type:"",
                    },*/
                    index: 1,
                    headerTemplate: "<span>ABC CDE</span",
                    template: '<span class="k-state-default" style="background-color: \'#666\'"></span>' +
                    '<span class="k-state-default"><h3>{{ name1 }}</h3><p>{{ id }}</p></span>',
                });
                $('#combobox2').on('change.gonrin', function(e){
                	console.log($('#combobox2').data('gonrin').getValue());
                });
                
                $('#combobox3').combobox({
                    dataSource: [
                        3,5,7,9
                    ],
                    /*data_source: {
                    	type:"",
                    },*/
                    index: 1,
                    headerTemplate: "<span>ABC CDE</span",
                    template: '<span class="k-state-default" style="background-color: \'#666\'"></span>' +
                    '<span class="k-state-default"><h3>{{ name1 }}</h3><p>{{ id }}</p></span>',
                });
                $('#combobox3').on('change.gonrin', function(e){
                	console.log($('#combobox3').data('gonrin').getValue());
                });
                
            });
     </script>
</head>
<body>
	 <div class="container">
	    <div class="row-fluid" id="content" style="margin-top:20px;">
	    	<div style="width:100%">
	    		<div style="width:50%;">
					<input type='text' id='combobox' placeholder="select..."/>
				</div>
			</div>
			
			<button id="validate">Validate</button>
			<br/>
			<br/>
			<div style="width:100%">
	    		<div style="width:50%;">
					<input type='text' id='combobox2' placeholder="select2..."/>
				</div>
			</div>
			<br/>
			<div style="width:100%">
	    		<div style="width:50%;">
					<input type='text' id='combobox3' placeholder="select3..."/>
				</div>
			</div>
			
			<br/>
			<div style="width:100%">
				<div style="width:50%">
					<div class="combobox-group has-success">
						<div class="input-group">
							<input class="form-control" placeholder="select..." type="text">
							<input id="combobox" placeholder="select..." style="display: none;" type="text">
							
							<ul class="dropdown-menu" style="overflow-y: scroll; width: 100%; height: auto; display: none;">
								<li class="dropdown-header"><span>ABC CDE</span></li>
								<li><a href="javascript:void(0)"><span class="k-state-default" style="background-color: '#666'"></span><span class="k-state-default"><h3>Parent1</h3><p>1</p></span></a></li>
								<li><a href="javascript:void(0)"><span class="k-state-default" style="background-color: '#666'"></span><span class="k-state-default"><h3>Parent2</h3><p>2</p></span></a></li>
								<li><a href="javascript:void(0)"><span class="k-state-default" style="background-color: '#666'"></span><span class="k-state-default"><h3>Parent3</h3><p>3</p></span></a></li>
								<li><a href="javascript:void(0)"><span class="k-state-default" style="background-color: '#666'"></span><span class="k-state-default"><h3>Parent4</h3><p>4</p></span></a></li>
							</ul>
							<span class="input-group-addon dropdown-toggle" data-dropdown="dropdown">
								<span class="glyphicon glyphicon-remove" style="border-right: 1px dashed #333; padding-right:5px" ></span>
								<span class="caret"></span>
							</span>
						</div>
						<div class="help-block">A block of help text that breaks onto a new line and may extend beyond one line.</div>
					</div>
				</div>
			</div>
			<br/>
	    </div> 
	</div>
</body>
</html>